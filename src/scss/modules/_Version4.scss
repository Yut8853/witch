$version-4__theme-white: #D8E2F5;
$version-4__theme-dark: #283c5f;
$version-4__theme-light-dark: #828FA8;
$version-4__theme-red: #C45C66;
$version-4__theme-green: #A19E5C;
$version-4__theme-orage: #DF984B;

.version-4 {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  overflow: hidden;

  /**
   * stage-1
   */
  .stage-1 {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
  }

  .stage-1__bg { /*** bg ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    div {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    div:nth-child(1) {
      transform-origin: right top;
      transform: rotate(90deg);
      background-color: $version-4__theme-green;
    }
    div:nth-child(2) {
      transform-origin: left bottom;
      transform: rotate(90deg);
      background-color: $version-4__theme-orage;
    }
    div:nth-child(3) {
      transform-origin: right bottom;
      transform: rotate(90deg);
      background-color: $version-4__theme-red;
    }
    div:nth-child(4) {
      transform-origin: left top;
      transform: rotate(90deg);
      background-color: $version-4__theme-dark;
    }
  }

  .stage-1__bg-effects { /*** bg-effects ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    .eff-1, .eff-2, .eff-3, .eff-4 {
      position: absolute;
      width: 30vmin; height: 30vmin;
    }
    .eff-1 { bottom: 0; right: 0; }
    .eff-2 { top: 0; left: 0; }
    .eff-3 { bottom: 0; left: 0; }
    .eff-4 { top: 0; right: 0; }
  }

  .stage-1__frame { /*** frame ***/
    position: absolute;
    @include pc-layout {
      top: 40px; left: 40px;
      width: calc(100% - 80px); height: calc(100% - 80px);
    }
    @include sp-layout {
      top: 20px; left: 20px;
      width: calc(100% - 40px); height: calc(100% - 40px);
    }

    .dot {
      div {
        position: absolute;
        @include pc-layout { width: 20px; height: 20px; }
        @include sp-layout { width: 10px; height: 10px; }
        border-radius: 50%;
        background-color: $version-4__theme-red;
        transform: scale(0);
      }
      @include pc-layout {
        div:nth-child(1) { top: -10px; left: -10px; }
        div:nth-child(2) { top: -10px; right: -10px; }
        div:nth-child(3) { bottom: -10px; left: -10px; }
        div:nth-child(4) { bottom: -10px; right: -10px; }
      }
      @include sp-layout {
        div:nth-child(1) { top: -5px; left: -5px; }
        div:nth-child(2) { top: -5px; right: -5px; }
        div:nth-child(3) { bottom: -5px; left: -5px; }
        div:nth-child(4) { bottom: -5px; right: -5px; }
      }
    }

    .line {
      div {
        position: absolute;
        overflow: hidden;

        &::after {
          content: ""; display: block;
          width: 100%; height: 100%;
          background-color: $version-4__theme-white;
        }
      }
      @include pc-layout {
        div:nth-child(1),
        div:nth-child(2) { left: 40px; width: calc(100% - 80px); height: 2px; }
        div:nth-child(3),
        div:nth-child(4) { top: 40px; height: calc(100% - 80px); width: 2px; }
        div:nth-child(1) { top: -1px; }
        div:nth-child(2) { bottom: -1px; }
        div:nth-child(3) { left: -1px; }
        div:nth-child(4) { right: -1px; }
      }
      @include sp-layout {
        div:nth-child(1),
        div:nth-child(2) { left: 20px; width: calc(100% - 40px); height: 1px; }
        div:nth-child(3),
        div:nth-child(4) { top: 20px; height: calc(100% - 40px); width: 1px; }
        div:nth-child(1) { top: -0.5px; }
        div:nth-child(2) { bottom: -0.5px; }
        div:nth-child(3) { left: -0.5px; }
        div:nth-child(4) { right: -0.5px; }
      }
      div:nth-child(1)::after { transform: translateX(100%); }
      div:nth-child(2)::after { transform: translateX(-100%); }
      div:nth-child(3)::after { transform: translateY(100%); }
      div:nth-child(4)::after { transform: translateY(-100%); }
    }
  }
  
  .stage-1__frame-effects { /*** frame-effects ***/
    position: absolute;
    top: 40px; left: 40px;
    width: calc(100% - 80px); height: calc(100% - 80px);

    .eff-1, .eff-2, .eff-3, .eff-4 {
      width: 200px; height: 200px;
    }
    .eff-1 { top: -100px; left: -100px; }
    .eff-2 { top: -100px; right: -100px; }
    .eff-3 { bottom: -100px; left: -100px; }
    .eff-4 { bottom: -100px; right: -100px; }
  }

  .stage-1__star {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    div {
      position: absolute;
      top: calc(50% - 4vmin); left: calc(50% - 4vmin);
      width: 8vmin; height: 8vmin;
      transform: translateX(calc(50vw + 4vmin));

      &::after {
        content: ""; display: block;
        width: 100%; height: 100%;
      }
    }
    div:nth-child(1)::after { background-color: $version-4__theme-green; }
    div:nth-child(2)::after { background-color: $version-4__theme-orage; }
    div:nth-child(3)::after { background-color: $version-4__theme-red; }
  }

  .stage-1__box { /*** box ***/
    position: absolute;
    top: calc(50% - 25vmin); left: calc(50% - 25vmin);
    width: 50vmin; height: 50vmin;

    .block,
    .char,
    .frame {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }

    .block {
      div {
        position: absolute;
        width: 8%; height: 8%;

        &::after {
          content: ""; display: block;
          width: 100%; height: 100%;
          background-color: $version-4__theme-white;
          transform: scale(0);
        }
      }
      div:nth-child(1) { top: -8%; left: -8%; transform: translate(-100%, -100%); }
      div:nth-child(2) { top: -8%; right: -8%; transform: translate(100%, -100%); }
      div:nth-child(3) { bottom: -8%; left: -8%; transform: translate(-100%, 100%); }
      div:nth-child(4) { bottom: -8%; right: -8%; transform: translate(100%, 100%); }
    }

    .char {
      overflow: hidden;
      opacity: 0;

      &::before {
        content: ""; display: block;
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background-color: $version-4__theme-white;
        transform: translateY(-100%);
      }

      .inner {
        position: absolute;
        top: 0; left: 0;
        width: calc(50vmin * 3); height: 50vmin;
        display: flex;

        div {
          width: 50vmin; height: 50vmin;
          background-size: auto 95%;
          background-position: center bottom;
          background-repeat: no-repeat;
        }
        div:nth-child(1) { background-image: url(../images/version_4/char-1.svg); }
        div:nth-child(2) { background-image: url(../images/version_4/char-2.svg); }
        div:nth-child(3) { background-image: url(../images/version_4/char-3.svg); }
      }
    }

    .frame {
      div {
        position: absolute;
        overflow: hidden;

        &::after {
          content: ""; display: block;
          width: 100%; height: 100%;
          background-color: $version-4__theme-white;
          transform: translateX(100%);
        }
      }
      @include pc-layout {
        div:nth-child(1),
        div:nth-child(2) { left: 0; width: 100%; height: 2px; }
        div:nth-child(3),
        div:nth-child(4) { top: 0; width: 2px; height: 100%; }
      }
      @include sp-layout {
        div:nth-child(1),
        div:nth-child(2) { left: 0; width: 100%; height: 1px; }
        div:nth-child(3),
        div:nth-child(4) { top: 0; width: 1px; height: 100%; }
      }
      div:nth-child(1) { top: 0; }
      div:nth-child(2) { bottom: 0; }
      div:nth-child(3) { left: 0; }
      div:nth-child(4) { right: 0; }
    }
  }

  .stage-1__end { /*** end ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    div {
      position: relative;
      width: 100%; height: 25%;
      transform: translateX(calc(100vw + 12.5vh));

      &::after {
        content: ""; display: block;
        position: absolute;
        left: -12.5vh; top: 0;
        width: 0; height: 0;
        border-right: solid 12.5vh red;
        border-top: solid 12.5vh transparent;
        border-bottom: solid 12.5vh transparent;
      }
    }
    div:nth-child(1) {
      background-color: $version-4__theme-light-dark;
      &::after { border-right-color: $version-4__theme-light-dark; }
    }
    div:nth-child(2) {
      background-color: $version-4__theme-red;
      &::after { border-right-color: $version-4__theme-red; }
    }
    div:nth-child(3) {
      background-color: $version-4__theme-orage;
      &::after { border-right-color: $version-4__theme-orage; }
    }
    div:nth-child(4) {
      background-color: $version-4__theme-green;
      &::after { border-right-color: $version-4__theme-green; }
    }

    &::after {
      content: ""; display: block;
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: $version-4__theme-light-dark;
      transform: translateY(-100%);
    }
  }

  /**
   * stage-2
   */
  .stage-2 {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
  }

  .stage-2__bg { /*** bg ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: $version-4__theme-white;
    background-image: url(../images/version_4/bg-dot.svg);
    background-size: 40px;
    opacity: 0;

    &::after {
      content: ""; display: block;
      width: 100%; height: 100%;
      background-color: $version-4__theme-light-dark;
    }
  }
  
  .stage-2__frame {
    position: absolute;
    @include pc-layout {
      top: 20px; left: 20px;
      width: calc(100% - 40px); height: calc(100% - 40px);
    }
    @include sp-layout {
      top: 10px; left: 10px;
      width: calc(100% - 20px); height: calc(100% - 20px);
    }
    
    .rect {
      position: absolute;
      @include pc-layout { width: calc(100% - 20px); height: calc(100% - 20px); }
      @include sp-layout { width: calc(100% - 10px); height: calc(100% - 10px); }

      div {
        position: absolute;
        overflow: hidden;

        &::after {
          content: ""; display: block;
          width: 100%; height: 100%;
          background-color: $version-4__theme-dark;
          transform: translateX(100%);
        }
      }
      div:nth-child(1),
      div:nth-child(2) { left: 0; width: 100%; height: 2px; }
      div:nth-child(3),
      div:nth-child(4) { top: 0; width: 2px; height: 100%; }
      div:nth-child(1) { top: 0; }
      div:nth-child(2) { bottom: 0; }
      div:nth-child(3) { left: 0; }
      div:nth-child(4) { right: 0; }
    }
    .rect:nth-child(1) { top: 0; left: 0; }
    .rect:nth-child(2) { bottom: 0; right: 0; }
  }

  .stage-2__bar { /*** bar **/
    position: absolute;
    top: calc(50% - 7.5vmin); left: calc(50% - 80vmax);
    width: 160vmax; height: 15vmin;
    display: flex;

    .bar {
      width: 50%; height: 100%;
      overflow: hidden;

      div {
        width: 100%; height: 25%;
        background-color: $version-4__theme-light-dark;
        transform: translateX(100%);
      }
    }
    @include sp-layout {
      .bar:nth-child(1) {
        transform-origin: right center;
        transform: rotate(90deg);
      }
      .bar:nth-child(2) {
        transform-origin: left center;
        transform: rotate(90deg);
      }
    }
  }

  .stage-2__shutter { /*** shutter ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;

    &::before,
    &::after {
      content: ""; display: block;
      width: 50%; height: 100%;
      background-color: $version-4__theme-light-dark;
      transform: translateY(100%);
    }
  }

  .stage-2__box { /*** box ***/
    position: absolute;
    top: calc(50% - 25vmin); left: calc(50% - 25vmin);
    width: 50vmin; height: 50vmin;

    .bg {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      display: flex;
      overflow: hidden;

      &::before,
      &::after {
        content: ""; display: block;
        width: 50%; height: 100%;
        background-color: $version-4__theme-dark;
        transform: translateY(100%);
      }
    }

    .frame {
      position: absolute;
      top: -5%; left: -5%;
      width: 110%; height: 110%;
      
      div {
        position: absolute;
        overflow: hidden;

        &::after {
          content: ""; display: block;
          width: 100%; height: 100%;
          background-color: $version-4__theme-dark;
          transform: translateX(100%);
        }
      }
      div:nth-child(1),
      div:nth-child(2) { left: 0; width: 100%; height: 5px; }
      div:nth-child(3),
      div:nth-child(4) { top: 0; width: 5px; height: 100%; }
      div:nth-child(1) { top: 0; }
      div:nth-child(2) { bottom: 0; }
      div:nth-child(3) { left: 0; }
      div:nth-child(4) { right: 0; }
    }

    .words {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;

      div {
        position: absolute;
        top: 20%; left: 20%;
        width: 60%; height: 60%;
        overflow: hidden;
        display: flex;

        &::before,
        &::after {
          content: ""; display: block;
          width: 50%; height: 100%;
          background-size: 200% auto;
          background-repeat: no-repeat;
        }
        &::before { background-position: left center; transform: translateY(-100%); }
        &::after  { background-position: right center; transform: translateY(100%); }
      }
      div:nth-child(1) {
        &::before { background-image: url(../images/version_4/word-1.svg); }
        &::after  { background-image: url(../images/version_4/word-1.svg); }
      }
      div:nth-child(2) {
        &::before { background-image: url(../images/version_4/word-2.svg); }
        &::after  { background-image: url(../images/version_4/word-2.svg); }
      }
      div:nth-child(3) {
        &::before { background-image: url(../images/version_4/word-3.svg); }
        &::after  { background-image: url(../images/version_4/word-3.svg); }
      }
    }
  }

  .stage-2__message { /*** message ***/
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;

    .bg {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      
      div { position: absolute; background-color: $version-4__theme-red; }
      div:nth-child(1) {
        top: calc(50% - 50vmin); left: calc(50% - 50vmin);
        width: 100vmin; height: 100vmin;
        border-radius: 50%;
        transform: scale(0);
      }
      div:nth-child(2) {
        top: calc(50% - 50vmax); left: calc(50% - 50vmax);
        width: 100vmax; height: 100vmax;
        border-radius: 50%;
        opacity: 0;
      }
      div:nth-child(3) {
        top: 0; left: 0;
        width: 100%; height: 100%;
        opacity: 0;
      }
    }

    .text {
      position: absolute;
      left: 0; width: 100%;
      @include pc-layout { height: 50px; top: calc(50% - 25px); }
      @include sp-layout { height: 30px; top: calc(50% - 15px); }
      background-image: url(../images/version_4/message.svg);
      background-position: center;
      background-size: auto 70%;
      background-repeat: no-repeat;
      transform: translateX(-100%);

      &::after {
        content: ""; display: block;
        width: 100%; height: 100%;
        background-color: #fff;
      }
    }
  }

  /**
   * end
   */
  .version-4__end {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    display: flex;

    div {
      width: 50%; height: 100%;
      background-color: #43445B;
    }
    div:nth-child(1) { transform: translateX(-100%); }
    div:nth-child(2) { transform: translateX(100%); }
  }
}

/*******************************************************************************
  animation
********************************************************************************/
.version-4 {
  .stage-1__bg {
    div:nth-child(1) { animation: version-4__rotate-bg-1 0.6s cubic-bezier(0.79, 0.01, 0.25, 1) 2s forwards; }
    div:nth-child(2) { animation: version-4__rotate-bg-1 0.6s cubic-bezier(0.79, 0.01, 0.25, 1) 2.2s forwards; }
    div:nth-child(3) { animation: version-4__rotate-bg-1 0.6s cubic-bezier(0.79, 0.01, 0.25, 1) 2.4s forwards; }
    div:nth-child(4) { animation: version-4__rotate-bg-1 0.6s cubic-bezier(0.79, 0.01, 0.25, 1) 2.6s forwards; }
  }
  .stage-1__bg-effects {
    animation: fadeout 0.05s ease 3.5s forwards;
    .eff-1 span { animation: effect-2__slide 0.3s ease 2.6s forwards; }
    .eff-2 span { animation: effect-2__slide 0.3s ease 2.8s forwards; }
    .eff-3 span { animation: effect-2__slide 0.3s ease 3.0s forwards; }
    .eff-4 span { animation: effect-2__slide 0.3s ease 3.2s forwards; }
  }
  .stage-1__frame-effects {
    .eff-1 {
      div:nth-child(1) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.4s forwards; }
      div:nth-child(2) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.5s forwards; }
    }
    .eff-2 {
      div:nth-child(1) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.8s forwards; }
      div:nth-child(2) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.9s forwards; }
    }
    .eff-3 {
      div:nth-child(1) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 4.0s forwards; }
      div:nth-child(2) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 4.1s forwards; }
    }
    .eff-4 {
      div:nth-child(1) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.6s forwards; }
      div:nth-child(2) { animation: effect-1__scale 0.4s cubic-bezier(0.79, 0.01, 0.25, 1) 3.7s forwards; }
    }
  }
  .stage-1__frame {
    .dot {
      div:nth-child(1) { animation: scale0-1 0.3s ease 3.4s forwards; }
      div:nth-child(2) { animation: scale0-1 0.3s ease 3.8s forwards; }
      div:nth-child(3) { animation: scale0-1 0.3s ease 4.0s forwards; }
      div:nth-child(4) { animation: scale0-1 0.3s ease 3.6s forwards; }
    }
    .line {
      div:nth-child(1)::after { animation: slide-left 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.3s forwards; }
      div:nth-child(4)::after { animation: slide-bottom 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.3s forwards; }
      div:nth-child(2)::after { animation: slide-right 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.3s forwards; }
      div:nth-child(3)::after { animation: slide-top 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.3s forwards; }
    }
  }
  .stage-1__star {
    div:nth-child(1) {
      animation:
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 6.2s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 6.6s forwards,
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 7.2s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 7.6s forwards;
      &::after {
        animation:
          turn1 0.4s linear 6.2s reverse forwards,
          turn1 0.4s linear 6.6s reverse forwards,
          turn1 0.4s linear 7.2s reverse forwards,
          turn1 0.4s linear 7.6s reverse forwards;
      }
    }
    div:nth-child(2) {
      animation:
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 6.3s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 6.7s forwards,
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 7.3s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 7.7s forwards;
      &::after {
        animation:
          turn1 0.4s linear 6.3s reverse forwards,
          turn1 0.4s linear 6.7s reverse forwards,
          turn1 0.4s linear 7.3s reverse forwards,
          turn1 0.4s linear 7.7s reverse forwards;
      }
    }
    div:nth-child(3) {
      animation:
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 6.4s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 6.8s forwards,
        version-4__show-star 0.4s cubic-bezier(0.76, 0.1, 0.8, 0.38) 7.4s forwards,
        version-4__hidden-star 0.4s cubic-bezier(0.12, 0.58, 0.25, 1) 7.8s forwards;
      &::after {
        animation:
          turn1 0.4s linear 6.4s reverse forwards,
          turn1 0.4s linear 6.8s reverse forwards,
          turn1 0.4s linear 7.4s reverse forwards,
          turn1 0.4s linear 7.8s reverse forwards;
      }
    }
  }
  .stage-1__box {
    .block {
      div:nth-child(1) {
        &::after { animation: scale0-1 0.3s ease 4.5s forwards; }
        animation: version-4__move-block-1 0.5s cubic-bezier(0.15, 0.49, 0.05, 0.99) 4.8s forwards;
      }
      div:nth-child(4) {
        &::after { animation: scale0-1 0.3s ease 4.5s forwards; }
        animation: version-4__move-block-4 0.5s cubic-bezier(0.15, 0.49, 0.05, 0.99) 4.8s forwards;
      }
      div:nth-child(2) {
        &::after { animation: scale0-1 0.3s ease 5.1s forwards; }
        animation: version-4__move-block-2 0.5s cubic-bezier(0.15, 0.49, 0.05, 0.99) 5.4s forwards;
      }
      div:nth-child(3) {
        &::after { animation: scale0-1 0.3s ease 5.1s forwards; }
        animation: version-4__move-block-3 0.5s cubic-bezier(0.15, 0.49, 0.05, 0.99) 5.4s forwards;
      }
    }
    .char {
      animation: fadein 0.05s ease 4.5s forwards;
      &::before { animation: slide-bottom 0.6s cubic-bezier(0.76, -0.01, 0.24, 0.99) 5.1s forwards; }
      .inner {
        animation:
          version-4__move-char-1 0.5s cubic-bezier(0.96, 0, 0.04, 1) 6.6s forwards,
          version-4__move-char-2 0.5s cubic-bezier(0.96, 0, 0.04, 1) 7.5s forwards;
      }
    }
    .frame {
      div:nth-child(1)::after { animation: slide-left 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.5s forwards; }
      div:nth-child(4)::after { animation: slide-bottom 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.5s forwards; }
      div:nth-child(2)::after { animation: slide-right 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.5s forwards; }
      div:nth-child(3)::after { animation: slide-top 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 4.5s forwards; }
    }
  }
  .stage-1__box-effects {
    .eff-1 {
      .circle {
        div:nth-child(2) {
          animation:
            fadein 0.3s ease-in 5.4s forwards,
            fadeout 0.3s ease-out 5.7s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 5.4s forwards;
        }
        div:nth-child(1) {
          animation:
            fadein 0.3s ease-in 5.6s forwards,
            fadeout 0.3s ease-out 5.9s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 5.6s forwards;
        }
      }
      .line {
        div:nth-child(1) span,
        div:nth-child(2) span { animation: effect-3__show-line-1 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 5.4s forwards; }
        div:nth-child(3) span,
        div:nth-child(4) span { animation: effect-3__show-line-2 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 5.4s forwards; }
      }
    }
    .eff-2 {
      .circle {
        div:nth-child(2) {
          animation:
            fadein 0.3s ease-in 6.6s forwards,
            fadeout 0.3s ease-out 6.9s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 6.6s forwards;
        }
        div:nth-child(1) {
          animation:
            fadein 0.3s ease-in 6.8s forwards,
            fadeout 0.3s ease-out 7.1s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 6.8s forwards;
        }
      }
      .line {
        div:nth-child(1) span,
        div:nth-child(2) span { animation: effect-3__show-line-1 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 6.6s forwards; }
        div:nth-child(3) span,
        div:nth-child(4) span { animation: effect-3__show-line-2 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 6.6s forwards; }
      }
    }
    .eff-3 {
      .circle {
        div:nth-child(2) {
          animation:
            fadein 0.3s ease-in 7.5s forwards,
            fadeout 0.3s ease-out 7.8s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 7.5s forwards;
        }
        div:nth-child(1) {
          animation:
            fadein 0.3s ease-in 7.7s forwards,
            fadeout 0.3s ease-out 8.0s forwards,
            effect-3__show-circle 0.6s cubic-bezier(0.18, 0.51, 0, 1.01) 7.7s forwards;
        }
      }
      .line {
        div:nth-child(1) span,
        div:nth-child(2) span { animation: effect-3__show-line-1 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 7.5s forwards; }
        div:nth-child(3) span,
        div:nth-child(4) span { animation: effect-3__show-line-2 0.4s cubic-bezier(0.65, 0.15, 0.81, 0.41) 7.5s forwards; }
      }
    }
  }
  .stage-1__end {
    div:nth-child(4) { animation: version-4__stage-1-end 0.5s cubic-bezier(0.88, 0, 0.15, 1) 8.2s forwards; }
    div:nth-child(3) { animation: version-4__stage-1-end 0.5s cubic-bezier(0.88, 0, 0.15, 1) 8.3s forwards; }
    div:nth-child(2) { animation: version-4__stage-1-end 0.5s cubic-bezier(0.88, 0, 0.15, 1) 8.4s forwards; }
    div:nth-child(1) { animation: version-4__stage-1-end 0.5s cubic-bezier(0.88, 0, 0.15, 1) 8.5s forwards; }
    &::after { animation: slide-left 0.6s cubic-bezier(0.88, 0, 0.15, 1) 9s forwards; }
  }

  .stage-2__bg{
    animation: fadein 0s ease 9.6s forwards;
    &::after { animation: slide-right 0.6s cubic-bezier(0.88, 0, 0.15, 1) 9.6s reverse forwards; }
  }
  .stage-2__bar {
    animation:
      version-4__turn-bar 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.3s forwards,
      version-4__turn-bar 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.9s forwards,
      version-4__turn-bar 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 12.5s forwards,
      version-4__turn-bar 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.1s forwards;
    .bar:nth-child(1) {
      div:nth-child(1) { animation: slide-left 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 10.6s forwards; }
      div:nth-child(2) { animation: slide-left 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 10.8s forwards; }
      div:nth-child(3) { animation: slide-left 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 11s forwards; }
      div:nth-child(4) { animation: slide-left 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 11.2s forwards; }
    }
    .bar:nth-child(2) {
      div:nth-child(4) { animation: slide-right 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 10.6s forwards; }
      div:nth-child(3) { animation: slide-right 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 10.8s forwards; }
      div:nth-child(2) { animation: slide-right 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 11s forwards; }
      div:nth-child(1) { animation: slide-right 0.5s cubic-bezier(0.21, 0.61, 0.1, 1) 11.2s forwards; }
    }
  }
  .stage-2__frame {
    .rect:nth-child(1) {
      div:nth-child(1)::after { animation: slide-right 0.3s ease 10.1s forwards; }
      div:nth-child(4)::after { animation: slide-bottom 0.3s ease 10.4s forwards; }
      div:nth-child(2)::after { animation: slide-left 0.3s ease 10.7s forwards; }
      div:nth-child(3)::after { animation: slide-top 0.3s ease 11s forwards; }
    }
    .rect:nth-child(2) {
      div:nth-child(1)::after { animation: slide-right 0.3s ease 10.3s forwards; }
      div:nth-child(4)::after { animation: slide-bottom 0.3s ease 10.6s forwards; }
      div:nth-child(2)::after { animation: slide-left 0.3s ease 10.9s forwards; }
      div:nth-child(3)::after { animation: slide-top 0.3s ease 11.2s forwards; }
    }
  }
  .stage-2__shutter {
    &::before { animation: slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.1s forwards; }
    &::after  { animation: slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.1s forwards; }
  }
  .stage-2__box {
    .bg {
      &::before { animation: slide-bottom 0.3s cubic-bezier(0.88, 0, 0.15, 1) 10s forwards; }
      &::after  { animation: slide-top 0.3s cubic-bezier(0.88, 0, 0.15, 1) 10s forwards; }
    }
    .frame {
      div:nth-child(1)::after { animation: slide-right 0.15s ease 10s forwards; }
      div:nth-child(4)::after { animation: slide-bottom 0.15s ease 10.15s forwards; }
      div:nth-child(2)::after { animation: slide-left 0.15s ease 10.3s forwards; }
      div:nth-child(3)::after { animation: slide-top 0.15s ease 10.45s forwards; }
    }
    .words {
      div:nth-child(1) {
        &::before {
          animation:
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.3s forwards,
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.9s reverse forwards;
        }
        &::after {
          animation:
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.3s forwards,
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.9s reverse forwards;
        }
      }
      div:nth-child(2) {
        &::before {
          animation:
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.9s forwards,
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 12.5s reverse forwards;
        }
        &::after {
          animation:
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 11.9s forwards,
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 12.5s reverse forwards;
        }
      }
      div:nth-child(3) {
        &::before {
          animation:
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 12.5s forwards,
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.1s reverse forwards;
        }
        &::after {
          animation:
            slide-top 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 12.5s forwards,
            slide-bottom 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.1s reverse forwards;
        }
      }
    }
  }
  .stage-2__message {
    .bg {
      div:nth-child(1) { animation: scale0-1 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.7s forwards; }
      div:nth-child(2) { animation: fadein 0.8s cubic-bezier(0.96, 0.01, 0.01, 1) 14.3s forwards; }
      div:nth-child(3) { animation: fadein 0.8s cubic-bezier(0.96, 0.01, 0.01, 1) 14.9s forwards; }
    }
    .text {
      animation: slide-right 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 13.7s forwards;
      &::after { animation: slide-left 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 14.3s reverse forwards; }
    }
  }

  .version-4__end {
    div:nth-child(1) { animation: slide-right 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 15.7s forwards; }
    div:nth-child(2) { animation: slide-left 0.6s cubic-bezier(0.96, 0.01, 0.01, 1) 15.7s forwards; }
  }
}